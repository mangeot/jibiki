<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <title>Menu</title>
    <script type="text/javascript">
    
        //
        function addOrRemoveCriterion(caller, action) {
            document.getElementById('Action').value = action + caller;
            document.getElementById("SearchForm").submit();
        }

    </script>
  </head>
  <body>
   <script type="text/javascript">
                     </script>
    <div id="AdvancedSearchForm" lang="fr" xml:lang="fr">
        <script type="text/javascript">
            <!--
             function selectedValue(selBox) {
             return selBox.options[selBox.selectedIndex].value;
             }
             -->
        </script>
        <select id='selectdefault' style="display:none;">
            <option value="0">est exactement</option>
            <option value="6">commence par</option>
            <option value="5">finit par</option>
        </select>
        <select id='selectexact' style="display:none;">
            <option value="0">est exactement</option>
        </select>
        <select id='selectcontains' style="display:none;">
            <option value="4">contient</option>
        </select>
        <select id="cdm-domain" name="cdm-domain" style="display:none;">
            <option value="algèbre">algèbre</option>
            <option value="anatomie">anatomie</option>
            <option value="architecture">architecture</option>
            <option value="astronomie">astronomie</option>
            <option value="astrologie">astrologie</option>
            <option value="bourse">bourse</option>
            <option value="biologie">biologie</option>
            <option value="botanique">botanique</option>
            <option value="bouddhisme">bouddhisme</option>
            <option value="catholicisme">catholicisme</option>
            <option value="chemin de fer">chemin de fer</option>
            <option value="chimie">chimie</option>
            <option value="commerce">commerce</option>
            <option value="comptabilité">comptabilité</option>
            <option value="conchyologie">conchyologie</option>
            <option value="construction">construction</option>
            <option value="contraction">contraction</option>
            <option value="corruption">corruption</option>
            <option value="électricité">électricité</option>
            <option value="entomologie">entomologie</option>
            <option value="féodalité">féodalité</option>
            <option value="finance">finance</option>
            <option value="fortification">fortification</option>
            <option value="géologie">géologie</option>
            <option value="géométrie">géométrie</option>
            <option value="grammaire">grammaire</option>
            <option value="hippologie">hippologie</option>
            <option value="ichtyologie">ichtyologie</option>
            <option value="jurisprudence">jurisprudence</option>
            <option value="logique">logique</option>
            <option value="marine">marine</option>
            <option value="mathématiques">mathématiques</option>
            <option value="mécanique">mécanique</option>
            <option value="médecine">médecine</option>
            <option value="métallurgie">métallurgie</option>
            <option value="terme militaire">terme militaire</option>
            <option value="minéralogie">minéralogie</option>
            <option value="musique">musique</option>
            <option value="ornithologie">ornithologie</option>
            <option value="paléontologie">paléontologie</option>
            <option value="pharmacie">pharmacie</option>
            <option value="philosophie">philosophie</option>
            <option value="photographie">photographie</option>
            <option value="physique">physique</option>
            <option value="physiologie">physiologie</option>
            <option value="sériciculture">sériciculture</option>
            <option value="shintoïsme">shintoïsme</option>
            <option value="technique">technique</option>
            <option value="théâtre">théâtre</option>
            <option value="typographie">typographie</option>
            <option value="science vétérinaire">science vétérinaire</option>
            <option value="zoologie">zoologie</option>
        </select>
        <select id="cdm-pos" name="cdm-pos" style="display:none;">
            <option value="形">形容詞 (adjectif)</option>
            <option value="副">副詞 (adverbe)</option>
            <option value="連語">連語 (mot composé)</option>
            <option value="名">名詞 (nom)</option>
            <option value="接頭">接頭詞 (préfixe)</option>
            <option value="枕詞">枕詞 (préfixe décoratif)</option>
            <option value="代">代名詞 (pronom)</option>
            <option value="動">動詞 (verbe)</option>
        </select>
        <select id="cdm-contribution-status" name="cdm-contribution-status" style="display:none;">
            <option value="finished">fini</option>
            <option value="classified">classifié</option>
            <option value="not finished">en cours d'édition</option>
            <option value="draft">brouillon</option>
       </select>
        <select id="cesselin-relecture" name="cesselin-relecture" style="display:none;">
            <option value="fraOK">français vérifié sur le PDF</option>
            <option value="jpnOK">japonais vérifié sur le PDF</option>
            <option value="frajpnOK">français et japnais vérifiés</option>
            <option value="fusion">à fusionner avec l'entrée précédente</option>
            <option value="cission">à séparer en 2 entrées</option>
            <option value="ssentrée">sous-entrée à restructurer</option>
        </select>
    <form id="SearchForm" action="">
        <div style="display:block; padding:5px;">
		<input type="hidden" name="action" id="actionJS" value="advancedLookup" />
          <table border="0" cellpadding="0" cellspacing="0" summary="Search Form" width="100%">
            <tr valign="top">
              <td style="vertical-align: middle;">
                <div id="DictionarySelection" style="padding:5px; ">
                  <b>Consulter</b>
                  <br/>
                  <!-- MULTIPLE VALUES: TARGETS, DICTIONARIES -->
                  <select id="Dictionaries" name="DICTIONARIES" multiple="multiple">
                    <option id="dictionaryTmpl" label="tous dictionnaires" value="*All*">tous dictionnaires</option>
                  </select>
				   <select style="display:none;" id="Volumes" name="VOLUMES" multiple="multiple">
                    <option id="volumeTmpl" label="tous volumes" value="*All*">tous volumes</option>
                  </select>
                </div>
              </td>
              <td style="vertical-align: middle;">
                <div id="CriteriaZone" style=" padding:5px;">
                <!-- ADVANCEDQUERYFORM SCRIPT  -->
                <script src="javascript/AdvancedQueryFormAjax.js" type="text/javascript"><!-- // --></script>
                <script type="text/javascript">
                    <!--
                     function adjustAdvancedSearchForm(select) {
                     var criteriaNumber='';
                     if (select.name.lastIndexOf(".") != -1) {
                     criteriaNumber = select.name.substring(select.name.lastIndexOf("."));
                     }
                     var selvalue = selectedValue(select);
                     var operator = document.getElementById('Operator'+criteriaNumber);
                     var textbox = document.getElementById('ValueField'+criteriaNumber);

                     // on vire le select précédent s'il y en avait un
                     var selectFacetValue = document.getElementById('select-facet-value'+ criteriaNumber);
                     if (selectFacetValue != null) {
                     textbox.parentNode.removeChild(selectFacetValue);
                     }
                     
                     //   operator.options.length = 0;
                     if (selvalue == 'cdm-example' || selvalue == 'cesselin-example-romaji' || selvalue == 'cesselin-example-hiragana') {
                     var select2 = document.getElementById("selectcontains");
                     operator.innerHTML = select2.innerHTML;
                     }
                     else if (selvalue == 'cdm-domain' || selvalue == 'cesselin-page' || selvalue == 'cesselin-relecture' || selvalue == 'cdm-pos') {
                     var select2 = document.getElementById("selectexact");
                     operator.innerHTML = select2.innerHTML;
                     }
                     else {
                     var select2 = document.getElementById("selectdefault");
                     operator.innerHTML = select2.innerHTML;
                     }
                     if (selvalue == 'cdm-domain' || selvalue == 'cdm-pos' || selvalue == 'cdm-contribution-status' || selvalue == 'cesselin-relecture') {
                     textbox.setAttribute('name', 'toto');
                     textbox.setAttribute('style', 'display:none;');
                     var selectFacetValue = document.getElementById(selvalue).cloneNode(true);
                     selectFacetValue.setAttribute('name', 'FACETVALUE'+criteriaNumber);
                     selectFacetValue.setAttribute('id', 'select-facet-value' + criteriaNumber);
                     selectFacetValue.setAttribute('style', '');
                     var parent = textbox.parentNode;
                     parent.insertBefore(selectFacetValue,textbox);
                     }
                     else {
                        textbox.setAttribute('style', '');
                        textbox.setAttribute('name', 'FACETVALUE'+criteriaNumber);
                     }
                     }
                     // -->
                </script>
                  <b>où</b>
                  <br/>
                    <table id="tableShowHideElement" style="display: none;" >
                        <tr id="rowShowHideTemplate" ><td>cdm-headword</td></tr>
                    </table>
                  <input type="hidden" id="NumberOfCriteria" name="CRITERIA_NB"/>
                  <div id="criterion" style="display:block; margin-left: 10px;">
                    <img id="minus" onclick="addOrRemoveCriterion(this.id, '-');" src="media/minus.jpg" alt="-" width="15"/>
                    <img id="plus" onclick="addOrRemoveCriterion(this.id, '+');" src="media/plus.jpg" alt="+" width="15"/>
                    <select id="Facet" name="FACET" onchange="adjustAdvancedSearchForm(this)" >
                      <option value="cdm-headword">le mot-vedette</option>
                      <option value="cdm-reading">le hiragana</option>
                      <option value="cdm-writing">le romaji</option>
                      <option value="cdm-pos">la catégorie</option>
                      <option value="cdm-domain">le domaine</option>
                      <option value="cdm-translation">la traduction</option>
                      <option value="cesselin-example-hiragana">un exemple (hiragana)</option>
                      <option value="cesselin-example-romaji">un exemple (romaji)</option>
                      <option value="cdm-example">la traduction de l'exemple</option>
                      <option value="cdm-entry-id">l'ID de l'entrée</option>
                      <option value="cdm-contribution-id">l'ID de la contribution</option>
                      <option value="cdm-original-contribution-id">l'ID de la contrib. d'origine</option>
                      <option value="cdm-contribution-status">le statut de la contribution</option>
                     <option value="cdm-modification-author">le contributeur</option>
                      <option value="cdm-modification-date">la date de contribution</option>
                      <option value="cesselin-page">la page (Cesselin)</option>
                      <option value="cesselin-relecture">la relecture (Cesselin)</option>
                    </select>
                    <select id="Operator" name="OPERATOR" >
                      <option value="0">est</option>
                      <option value="2">comme</option>
                      <option value="6">commence par</option>
                      <option value="5">finit par</option>
                     <option value="10">plus grand que</option>
                      <option value="11">plus petit que</option>
                      <option value="4">contient</option>
                   </select>
                    <input type="text" id="ValueField" name="FACETVALUE" size="14" maxlength="128"/>
                    <span style="display:none;"><span style="display:none;">
                        <!--
                        <label id="SourceLangLabel" for="SourceLang" accesskey="i" >
                        <span class="accesskey">I</span>n:</label>
                        -->
                        <select id="SourceLang" name="SOURCE">
                            <option id="SourceOptionTemplate" value="NONE" label="NONE">NONE</option>
                            <option value="All" label="Toutes">Toutes</option>
                        </select>
                    </span></span>
                  </div>
                </div>
              </td>
              <td  style="vertical-align: middle;">
                <div id="TargetLanguagesSelection" style="display: none;">
                  <b>langues cibles</b><br/>
                  <select id="Targets" name="TARGETS" multiple="multiple">
                    <option id="TargetTmpl" label="Toutes" value="*All*" selected="selected">Toutes</option>
                  </select>
                </div>
				<input type="submit" value="➡" />
				<input type="hidden" id="LIMIT" name="LIMIT" value="100" />
              </td>
                <td style="display:none;">
                    <div id="QuickLink" class="quick_search">
                        <b>Recherche rapide</b><br/>
                        <a id="MyFinishedContributions" class="quick_link" href="">Mes contributions finies</a><br/>
                        <a id="MyNotFinishedContributions" class="quick_link" href="">Mes contributions non finies</a>
                    </div>
                </td>
            </tr>
          </table>
          </div>
          <div style="display:none; padding: 5px;">
            <b>Affiche </b>
            <select id="LIMITSelect" name="LIMIT">
              <option label="10" value="10">10</option>
              <option label="20" value="20">20</option>
              <option label="50" value="50">50</option>
              <option label="100" value="100">100</option>
              <!--option label="all" value="0">tous les</option-->
            </select>
            <b>résultats par page avec la forme</b>
            <select id="Xsl" name="XSL">
              <option label="par défaut" value="">par défaut</option>
              <option id="XslTmpl" label="par défaut" value="">défaut</option>
            </select>
            <input type="hidden" id="Offset" name="OFFSET" />
            <input type="hidden" id="Action" name="ACTION" value=""/>
            <input type="submit" value="Go" />
          </div>
      </form>
    <script type="text/javascript">
        <!--
         function adjustAllAdvancedSearchForm() {
         var form = document.getElementById('SearchForm');
         var nbcrit = form.CRITERIA_NB.value;
         nbcrit = parseInt(nbcrit) - 1;
         for (var i=0; i<=nbcrit; i++) {
         var select  = form.elements['FACET.'+i];
         adjustAdvancedSearchForm(select);
         }
         return true;
         }
         
         addLoadEvent(adjustAllAdvancedSearchForm);
         // -->
    </script>
    </div>
  </body>
</html>
